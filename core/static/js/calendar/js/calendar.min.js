/*
 * Google, iCal & XML Event Calendar List - for PHP 5
 * http://rikdevos.com/
 *
 * Copyright 2012, Rik de Vos
 * You need to buy a license if you want use this script.
 * http://codecanyon.net/wiki/buying/howto-buying/licensing/
 * 
 */

$(document).ready(function(){function b(a){a.find(".cal_event_short_description").hide()}function c(a){a.find(".cal_event:not(.cal_event_visible)").find(".cal_event_short_description").show()}var a=window.location.hash.split("#");$(".cal_container").each(function(){var a=$(this),d=0;a.find(".cal_event").each(function(){var a=$(this),b=a.find(".cal_event_title").innerWidth();if(b>d){d=b}a.find(".cal_event_header").click(function(){if(a.hasClass("cal_event_visible")){a.find(".cal_event_reveal").slideUp(200,function(){a.removeClass("cal_event_visible");if($(window).width()>480){a.find(".cal_event_short_description").fadeIn(200)}});if(window.mozInnerScreenX){a.find(".cal_event_right").css("margin-top",0)}}else{a.addClass("cal_event_visible");a.find(".cal_event_reveal").slideDown(200,function(){if(window.mozInnerScreenX){a.find(".cal_event_right").css("margin-top",-9)}});a.find(".cal_event_short_description").fadeOut(200)}})});if(a.hasClass("auto_title_width")){a.find(".cal_event_title").css("width",d+5)}if($(window).width()<=480){b(a)}$(window).resize(function(){if($(window).width()<=480){b(a)}else{c(a)}});a.find("#cal_search_button").click(function(){var b=a.find(".cal_search_box").val(),c=a.find("#cal_search_button").attr("href")+"cal_search="+encodeURIComponent(b);window.location=c;return false});var e=a.find(".cal_select_month_calendar"),f=e.attr("data-month")+"/"+e.attr("data-day")+"/"+e.attr("data-year");a.find(".cal_select_month_calendar").datepicker({defaultDate:f,onSelect:function(a,b){var c=$(this).attr("data-url"),d=$(this).attr("data-scale");var e=a.split("/");c=c+"cal_day="+parseFloat(e[1])+"&cal_month="+parseFloat(e[0])+"&cal_year="+parseFloat(e[2])+"&cal_scale="+d;window.location=c}});a.find(".cal_select_month").click(function(){$(".cal_select_month_calendar").fadeToggle();return false});a.find(".cal_grouped_event").hide();a.find(".cal_grouped_group").click(function(){var b=$(this),c=b.attr("data-date"),d=b.attr("data-animate")=="true"?true:false,e=a.find(".cal_event[data-date="+c+"]:not(.cal_grouped_group)");if(d){e.slideDown(500,function(){$(this).animate({opacity:1},500)});b.animate({opacity:0},500,function(){b.slideUp(500)})}else{e.css("opacity",1).show();b.hide()}})})});
